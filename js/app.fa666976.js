(function(t){function e(e){for(var r,a,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,a=1;a<s.length;a++){var o=s[a];0!==n[o]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=s[0]))}return t}var r={},a={app:0},n={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0ccdb775":"01a7319f","chunk-212217f0":"ca46872c","chunk-2d0b2706":"306d2f6f","chunk-2d0c1f74":"29ebdb85","chunk-2d21e7c3":"373c3432","chunk-2d37f08a":"c1cdde44","chunk-307ba292":"eb4ef913","chunk-3b43a8fb":"ca75a428","chunk-545ff352":"9f43761c","chunk-5c52d513":"23f0125e","chunk-641473fe":"0a075e19","chunk-67ddc0a9":"1aa752da","chunk-684804da":"1b75d8fb","chunk-98bb8382":"f870d8fc","chunk-9fa54cc4":"fabd4003"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-0ccdb775":1,"chunk-212217f0":1,"chunk-2d37f08a":1,"chunk-307ba292":1,"chunk-3b43a8fb":1,"chunk-545ff352":1,"chunk-5c52d513":1,"chunk-641473fe":1,"chunk-67ddc0a9":1,"chunk-684804da":1,"chunk-98bb8382":1,"chunk-9fa54cc4":1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=new Promise((function(e,s){for(var r="css/"+({}[t]||t)+"."+{"chunk-0ccdb775":"29d9fdf4","chunk-212217f0":"636d6fad","chunk-2d0b2706":"31d6cfe0","chunk-2d0c1f74":"31d6cfe0","chunk-2d21e7c3":"31d6cfe0","chunk-2d37f08a":"9f602d45","chunk-307ba292":"428622aa","chunk-3b43a8fb":"9b857905","chunk-545ff352":"ba20505d","chunk-5c52d513":"bfcfecc6","chunk-641473fe":"fa552ed9","chunk-67ddc0a9":"9bd0bc88","chunk-684804da":"636d6fad","chunk-98bb8382":"9b5da46c","chunk-9fa54cc4":"482a952c"}[t]+".css",n=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],p.parentNode.removeChild(p),s(i)},p.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[t]=0})));var r=n[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,s){r=n[t]=[e,s]}));e.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var s=n[t];if(0!==s){if(s){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,s[1](d)}n[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(s,r,function(e){return t[e]}.bind(null,r));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/twitter-front-end-challenge/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0871":function(t,e,s){"use strict";s("e01e")},1656:function(t,e,s){},"176f":function(t,e,s){t.exports=s.p+"img/toast_error.60de2c34.svg"},"1fb7":function(t,e,s){},2912:function(t,e,s){},"2c09":function(t,e,s){"use strict";s("5cfd")},"2fa3":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));s("d3b7");var r=s("bc3a"),a=s.n(r),n="https://desolate-springs-46629.herokuapp.com/api",i=a.a.create({baseURL:n});i.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var o=i},"306d":function(t,e,s){"use strict";s("bae3")},"353f":function(t,e,s){t.exports=s.p+"img/chatroom_send.571066eb.svg"},4057:function(t,e,s){"use strict";s("fcda")},"40f0":function(t,e,s){},4287:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close-icon modal-header-close",attrs:{type:"button"},on:{click:t.handleCloseModal}},[s("svg",{staticClass:"close-icon",attrs:{width:"15",height:"15",viewBox:"0 0 16 16",fill:"#FF6600",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z"}})])])]),t.initReplyTweet?s("div",{staticClass:"reply-tweet"},[s("div",{staticClass:"reply-avatar",style:{backgroundImage:"url("+t.initReplyTweet.avatar+")"}}),s("div",{staticClass:"connect-line"}),s("div",{staticClass:"reply-content"},[s("div",{staticClass:"reply-content-data"},[s("span",{staticClass:"name"},[t._v(t._s(t.initReplyTweet.tweetUserName))]),s("span",{staticClass:"account"},[t._v(t._s(t.initReplyTweet.tweetUserAccount)+"・")]),s("span",{staticClass:"created"},[t._v(t._s(t._f("fromNow")(t.initReplyTweet.createdAt)))])]),s("div",{staticClass:"reply-content-text"},[t._v(" "+t._s(t.initReplyTweet.description)+" ")]),s("span",{staticClass:"reply-content-footer"},[t._v("回覆給 "),s("span",{staticClass:"reply-footer"},[t._v("@"+t._s(t.initReplyTweet.tweetUserAccount))])])])]):t._e(),t.initReplyTweet?s("TweetReplyNew",{attrs:{"reply-id":t.initReplyTweet.TweetId},on:{"after-reply-tweet":t.handleCloseModal}}):s("TweetNew",{on:{"after-submit-tweet":t.handleCloseModal}})],1)])])])])],1)},a=[],n=s("5530"),i=s("50d6"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-wrapper"},[s("div",{staticClass:"user-avatar",style:{backgroundImage:"url("+t.currentUser.avatar+")"}}),s("div",{staticClass:"tweet-area"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply,expression:"reply"}],attrs:{name:"description",id:"tweet-area-description",rows:"6",placeholder:"有什麼新鮮事？",required:""},domProps:{value:t.reply},on:{click:function(e){t.emptyContent=!1},input:function(e){e.target.composing||(t.reply=e.target.value)}}})]),t.reply.length>140?s("div",{staticClass:"text-area-error-info",staticStyle:{color:"#fc5a5a"}},[t._v(" 內容上限 140 字! ")]):t._e(),t.emptyContent?s("div",{staticClass:"text-area-error-info",staticStyle:{color:"#fc5a5a"}},[t._v(" 請輸入內容! ")]):t._e(),s("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submitReply.apply(null,arguments)}}},[t._v(" 回覆 ")])])},c=[],u=s("1da1"),l=(s("96cf"),s("a9e3"),s("498a"),s("d9e2"),s("6783")),d=s("2f62"),p=s("ac0d"),h={mixins:[p["a"]],props:{replyId:{type:Number}},data:function(){return{reply:"",emptyContent:!1,isProcessing:!1}},computed:Object(n["a"])({},Object(d["b"])(["currentUser"])),methods:{submitReply:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isProcessing=!0,t.reply.trim().length){e.next=5;break}return t.emptyContent=!0,t.isProcessing=!1,e.abrupt("return");case 5:if(!(t.reply.length>140)&&t.reply.trim().length){e.next=7;break}return e.abrupt("return",t.isProcessing=!1);case 7:return e.prev=7,e.next=10,l["a"].postReply(t.replyId,t.reply);case 10:if(s=e.sent,"OK"===s.statusText){e.next=13;break}throw new Error;case 13:t.ToastSuccess({title:"已成功發佈回覆"}),t.isProcessing=!1,t.$emit("after-reply-tweet"),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](7),t.ToastError({title:"無法回覆推文，請稍後再試"}),t.isProcessing=!1;case 22:case"end":return e.stop()}}),e,null,[[7,18]])})))()}}},m=h,f=(s("7b18"),s("2877")),C=Object(f["a"])(m,o,c,!1,null,"8a4ca372",null),v=C.exports,g={props:{initReplyTweet:{type:Object}},components:{TweetNew:i["a"],TweetReplyNew:v},data:function(){return{tweet:""}},computed:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["currentUser"])),{},{title:function(){return this.handlePathName()}}),methods:{handleCloseModal:function(){this.$emit("after-close-modal")}},mixins:[p["c"]]},w=g,b=(s("4e6a"),Object(f["a"])(w,r,a,!1,null,"7ccb8ed8",null));e["a"]=b.exports},"4cce":function(t,e,s){"use strict";var r=s("5530"),a=s("2fa3");e["a"]={getCurrentUser:function(){return a["a"].get("/users/get_current_user")},getUser:function(t){return a["a"].get("/users/".concat(t))},getUserTweets:function(t){return a["a"].get("/users/".concat(t,"/tweets"))},getUserReplies:function(t){return a["a"].get("/users/".concat(t,"/replied_tweets"))},getUserLike:function(t){return a["a"].get("/users/".concat(t,"/likes"))},getTopUsers:function(){return a["a"].get("/users/top")},getFollowings:function(t){return a["a"].get("/users/".concat(t,"/followings"))},getFollowers:function(t){return a["a"].get("/users/".concat(t,"/followers"))},addFollowing:function(t){return a["a"].post("/followships",{id:t})},deleteFollowing:function(t){return a["a"].delete("/followships/".concat(t))},updateSetting:function(t,e){return a["a"].put("/users/".concat(t,"/edit"),Object(r["a"])({},e))},updateUserProfile:function(t){var e=t.user_id,s=t.formData;return a["a"].put("/users/".concat(e),s)}}},"4e6a":function(t,e,s){"use strict";s("1656")},"50d6":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-wrapper"},[s("div",{staticClass:"user-avatar",style:{backgroundImage:"url("+t.currentUser.avatar+")"}}),s("div",{staticClass:"tweet-area"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tweet,expression:"tweet"}],attrs:{name:"description",id:"tweet-area-description",rows:"6",placeholder:"有什麼新鮮事？",required:""},domProps:{value:t.tweet},on:{click:function(e){t.emptyContent=!1},input:function(e){e.target.composing||(t.tweet=e.target.value)}}})]),t.tweet.length>140?s("div",{staticClass:"text-area-error-info",staticStyle:{color:"#fc5a5a"}},[t._v(" 內容上限 140 字！ ")]):t._e(),t.emptyContent?s("div",{staticClass:"text-area-error-info",staticStyle:{color:"#fc5a5a"}},[t._v(" 內容不能為空！ ")]):t._e(),s("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submitTweet.apply(null,arguments)}}},[t._v(" 推文 ")])])},a=[],n=s("1da1"),i=s("5530"),o=(s("96cf"),s("498a"),s("d9e2"),s("6783")),c=s("2f62"),u=s("ac0d"),l={mixins:[u["a"]],data:function(){return{tweet:"",isProcessing:!1,emptyContent:!1}},computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),methods:{submitTweet:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isProcessing=!0,t.tweet.trim().length){e.next=5;break}return t.emptyContent=!0,t.isProcessing=!1,e.abrupt("return");case 5:if(!(t.tweet.length>140)){e.next=7;break}return e.abrupt("return",t.isProcessing=!1);case 7:return e.prev=7,e.next=10,o["a"].createTweet(t.tweet);case 10:if(s=e.sent,"OK"===s.statusText){e.next=13;break}throw new Error(s.message);case 13:t.tweet="",t.ToastSuccess({title:"已成功發佈推文"}),t.isProcessing=!1,t.$emit("after-submit-tweet"),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](7),t.ToastError({title:"無法發佈推文，請稍後再試"}),t.isProcessing=!1;case 23:case"end":return e.stop()}}),e,null,[[7,19]])})))()}}},d=l,p=(s("0871"),s("2877")),h=Object(p["a"])(d,r,a,!1,null,"0df7e2dd",null);e["a"]=h.exports},"53c5":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"twitter-project"}},[s("router-view")],1)},n=[],i=(s("4989"),s("ab8b"),{}),o=i,c=s("2877"),u=Object(c["a"])(o,a,n,!1,null,null,null),l=u.exports,d=s("1da1"),p=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("b0c0"),s("caad"),s("2532"),s("8c4f")),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("LoginForm",{attrs:{"init-is-processing":t.isProcessing,"need-clear-password":t.needClearPassword},on:{"after-form-submit":t.afterFormSubmit}})],1)},m=[],f=(s("d9e2"),s("61b1")),C=s("7696"),v=s("ac0d"),g={mixins:[v["a"]],name:"UserLogin",components:{LoginForm:f["a"]},data:function(){return{isProcessing:!1,needClearPassword:!1}},methods:{afterFormSubmit:function(t,e){var s=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,s.isProcessing=!0,r.next=4,C["a"].userLogin({account:t,password:e});case 4:if(a=r.sent,n=a.data,"success"===n.status){r.next=8;break}throw new Error(n.message);case 8:localStorage.setItem("token",n.data.token),s.$store.commit("setCurrentUser",n.data.user),s.$router.push("/user/home"),r.next=26;break;case 13:if(r.prev=13,r.t0=r["catch"](0),s.isProcessing=!1,s.needClearPassword=!s.needClearPassword,"This is for normal user!"!==r.t0.message){r.next=22;break}return s.ToastError({title:"此帳號非使用者"}),r.abrupt("return");case 22:if("Account didn't exist!"!==r.t0.message&&"Password incorrect!"!==r.t0.message){r.next=25;break}return s.ToastError({title:"登入失敗，帳號或密碼有誤"}),r.abrupt("return");case 25:s.ToastError({title:"無法登入，請稍後再試"});case 26:case"end":return r.stop()}}),r,null,[[0,13]])})))()}}},w=g,b=Object(c["a"])(w,h,m,!1,null,null,null),k=b.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"empty-data"},[t._v(" 404 Page Not Found ")])},P=[],x=(s("7531"),{}),y=Object(c["a"])(x,_,P,!1,null,"15c8c43e",null),L=y.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("Navbar",{staticClass:"container-left",attrs:{"is-current-user-page":t.isCurrentUserPage},on:{"after-show-modal":t.afterShowModal}}),s("div",{staticClass:"container-middle"},[s("Header"),s("router-view",{staticClass:"container-middle-main",attrs:{"message-to-submit":t.messageToSubmit},on:{"after-follow-change":t.afterFollowChange,"get-history-message":t.getHistoryMessage,"get-new-message":t.getNewMessage}})],1),t.isAdmin||"user-setting"===t.currentPathName||"user-public-chat"===t.currentPathName||"user-private-message"===t.currentPathName?t._e():s("PopularUsers",{staticClass:"container-popular-users",attrs:{"need-update-popular-user":t.needUpdatePopularUser}}),"user-public-chat"===t.currentPathName?s("ChatRoom",{staticClass:"container-chatroom",attrs:{"history-message":t.historyMessage,"new-message":t.newMessage},on:{"submit-message":t.afterSubmitMessage}}):t._e(),t.modalVisibility?s("TweetModal",{on:{"after-close-modal":t.afterCloseModal}}):t._e()],1)},M=[],N=s("5530"),O=(s("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navbar-panel"},[r("div",{staticClass:"nav-wrapper"},[r("div",{staticClass:"nav-icon"},[r("img",{attrs:{src:s("d191"),alt:"",srcset:""},on:{click:function(e){return t.$router.push("/user/home")}}})]),t.isAdmin?r("div",{staticClass:"nav-content"},[r("div",{staticClass:"link-wrapper"},[r("router-link",{staticClass:"route-link",attrs:{to:"/admin/tweets"}},[r("svg",{class:{activeSvg:"admin-tweets"===t.currentPathName},attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M22.58 6.34986L12.475 0.896855C12.178 0.736855 11.821 0.736855 11.525 0.896855L1.42502 6.34986C0.939018 6.61386 0.758018 7.21986 1.02002 7.70586C1.20002 8.04086 1.54502 8.23086 1.90002 8.23086C2.06002 8.23086 2.22402 8.19286 2.37502 8.11086L3.10902 7.71486L4.69902 18.9649C4.91502 20.1789 6.00902 21.0269 7.35902 21.0269H16.641C17.991 21.0269 19.085 20.1789 19.303 18.9389L20.891 7.71386L21.628 8.11186C22.113 8.37486 22.72 8.19386 22.982 7.70786C23.245 7.22186 23.062 6.61486 22.578 6.35286L22.58 6.34986ZM12 14.4349C10.205 14.4349 8.75002 12.9799 8.75002 11.1849C8.75002 9.38986 10.205 7.93486 12 7.93486C13.795 7.93486 15.25 9.38986 15.25 11.1849C15.25 12.9799 13.795 14.4349 12 14.4349Z"}})]),t._v(" 推文清單")]),r("router-link",{staticClass:"route-link",attrs:{to:"/admin/users"}},[r("svg",{class:{activeSvg:"admin-users"===t.currentPathName},attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M12 11.8158C13.355 11.8158 14.872 11.6658 15.84 10.5598C16.654 9.62976 16.918 8.19176 16.646 6.16776C16.266 3.34276 14.529 1.65576 12 1.65576C9.47103 1.65576 7.73403 3.34276 7.35403 6.16976C7.08203 8.19176 7.34603 9.62976 8.16003 10.5598C9.12803 11.6668 10.645 11.8158 12 11.8158ZM8.84003 6.36776C9.00203 5.16776 9.62703 3.15576 12 3.15576C14.373 3.15576 14.998 5.16876 15.16 6.36776C15.367 7.91776 15.217 8.99476 14.71 9.57276C14.255 10.0928 13.444 10.3158 12 10.3158C10.556 10.3158 9.74503 10.0928 9.29003 9.57276C8.78303 8.99476 8.63303 7.91676 8.84003 6.36776ZM20.28 19.2358C19.403 15.7098 15.998 13.2458 12 13.2458C8.00203 13.2458 4.59703 15.7098 3.72003 19.2358C3.54803 19.9278 3.69203 20.6358 4.11503 21.1758C4.52303 21.6958 5.15503 21.9958 5.84803 21.9958H18.152C18.845 21.9958 19.477 21.6958 19.885 21.1758C20.309 20.6358 20.452 19.9288 20.279 19.2358H20.28ZM18.704 20.2518C18.578 20.4118 18.388 20.4978 18.152 20.4978H5.84803C5.61303 20.4978 5.42203 20.4128 5.29603 20.2518C5.15903 20.0778 5.11603 19.8398 5.17603 19.5978C5.88603 16.7428 8.69303 14.7478 12 14.7478C15.307 14.7478 18.114 16.7418 18.824 19.5978C18.884 19.8398 18.841 20.0778 18.704 20.2518Z"}})]),t._v(" 使用者列表")])],1)]):r("div",{staticClass:"nav-content"},[r("div",{staticClass:"link-wrapper"},[r("router-link",{staticClass:"route-link",attrs:{to:"/user/home"}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},[r("svg",{class:{activeStrokeSvg:"user-home"===t.currentPathName},attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",stroke:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M22.58 6.34986L12.475 0.896855C12.178 0.736855 11.821 0.736855 11.525 0.896855L1.42502 6.34986C0.939018 6.61386 0.758018 7.21986 1.02002 7.70586C1.20002 8.04086 1.54502 8.23086 1.90002 8.23086C2.06002 8.23086 2.22402 8.19286 2.37502 8.11086L3.10902 7.71486L4.69902 18.9649C4.91502 20.1789 6.00902 21.0269 7.35902 21.0269H16.641C17.991 21.0269 19.085 20.1789 19.303 18.9389L20.891 7.71386L21.628 8.11186C22.113 8.37486 22.72 8.19386 22.982 7.70786C23.245 7.22186 23.062 6.61486 22.578 6.35286L22.58 6.34986ZM12 14.4349C10.205 14.4349 8.75002 12.9799 8.75002 11.1849C8.75002 9.38986 10.205 7.93486 12 7.93486C13.795 7.93486 15.25 9.38986 15.25 11.1849C15.25 12.9799 13.795 14.4349 12 14.4349Z"}})])]),t._v(" 首頁 ")])]),r("router-link",{staticClass:"route-link",attrs:{to:"/user/notification"}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},["user-notification"===t.currentPathName?r("svg",{attrs:{width:"20",height:"22",viewBox:"0 0 20 22",fill:"#FF6600",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M19.697 15.4681C19.677 15.4521 17.557 13.8281 17.594 9.43813C17.614 6.90513 16.782 4.65613 15.247 3.10413C13.872 1.71113 12.01 0.940129 10.005 0.932129H9.99204C7.98804 0.940129 6.12604 1.71213 4.75004 3.10413C3.21604 4.65713 2.38304 6.90613 2.40404 9.43713C2.44104 13.7691 0.384036 15.4041 0.302036 15.4671C0.0420358 15.6611 -0.0639643 15.9971 0.0370357 16.3051C0.138036 16.6131 0.427036 16.8201 0.750036 16.8201H5.24404C5.34404 19.3641 7.43204 21.4071 10 21.4071C12.568 21.4071 14.655 19.3641 14.756 16.8201H19.25C19.574 16.8201 19.86 16.6121 19.962 16.3051C20.064 15.9981 19.957 15.6611 19.697 15.4681ZM10 19.4081C8.53404 19.4081 7.34304 18.2611 7.24404 16.8201H12.756C12.656 18.2601 11.466 19.4071 10 19.4071V19.4081Z"}})]):r("svg",{attrs:{width:"20",height:"21",viewBox:"0 0 20 21",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M19.697 15.4679C19.677 15.4519 17.557 13.8279 17.594 9.43793C17.614 6.90593 16.782 4.65593 15.247 3.10293C13.872 1.70993 12.01 0.939932 10.005 0.929932H9.99204C7.98804 0.939932 6.12604 1.70993 4.75004 3.10393C3.21604 4.65693 2.38204 6.90593 2.40404 9.43793C2.44104 13.7679 0.384036 15.4049 0.302036 15.4679C0.0420358 15.6609 -0.0639643 15.9979 0.0370357 16.3059C0.139036 16.6139 0.427036 16.8209 0.749036 16.8209H5.66904C5.77104 19.1309 7.66604 20.9809 9.99904 20.9809C12.332 20.9809 14.225 19.1309 14.326 16.8209H19.248C19.57 16.8209 19.858 16.6149 19.958 16.3069C20.061 15.9999 19.955 15.6619 19.695 15.4689L19.697 15.4679ZM10 19.4779C8.49504 19.4779 7.27004 18.3009 7.17204 16.8199H12.828C12.728 18.2999 11.505 19.4799 10 19.4799V19.4779ZM2.38004 15.3199C3.12004 14.1879 3.92804 12.2919 3.90404 9.42393C3.88604 7.26393 4.54804 5.44193 5.81704 4.15693C6.91004 3.04993 8.39704 2.43693 10 2.42993C11.603 2.43793 13.087 3.04993 14.18 4.15793C15.45 5.44293 16.113 7.26393 16.095 9.42493C16.071 12.2929 16.88 14.1899 17.62 15.3209H2.38004V15.3199Z"}})]),r("div",{staticClass:"red-dot",class:{"d-none":!t.isNotification}})]),t._v(" 通知 ")])]),r("router-link",{staticClass:"route-link",attrs:{to:"/user/public/chat"}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},["user-public-chat"===t.currentPathName?r("svg",{attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"#FF6600",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9.55 9.082C9.823 9.264 10.177 9.264 10.45 9.082L20 2.716V2.5C20 1.26 18.99 0.25 17.75 0.25H2.25C1.01 0.25 0 1.26 0 2.5V2.697L9.55 9.082Z",fill:"#FF6600"}}),r("path",{attrs:{d:"M11.26 10.295C10.877 10.55 10.44 10.677 10 10.677C9.56 10.677 9.123 10.55 8.74 10.294L0 4.45203V16.122C0 17.362 1.01 18.372 2.25 18.372H17.75C18.99 18.372 20 17.362 20 16.122V4.47003L11.26 10.293V10.295Z"}})]):r("svg",{class:{activeSvg:"user-public-chat"===t.currentPathName},attrs:{width:"20",height:"18",viewBox:"0 0 20 18",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M17.25 0H2.75C1.233 0 0 1.234 0 2.752V15.247C0 16.765 1.233 18 2.75 18H17.25C18.767 18 20 16.765 20 15.247V2.752C20 1.234 18.767 0 17.25 0ZM2.75 1.5H17.25C17.94 1.5 18.5 2.06 18.5 2.75V3.464L10.45 8.831C10.177 9.011 9.824 9.013 9.55 8.829L1.5 3.464V2.75C1.5 2.06 2.06 1.5 2.75 1.5ZM17.25 16.498H2.75C2.06 16.498 1.5 15.938 1.5 15.248V5.222L8.74 10.052C9.123 10.308 9.562 10.436 10 10.436C10.44 10.436 10.877 10.308 11.26 10.053L18.5 5.223V15.245C18.5 15.935 17.94 16.495 17.25 16.495V16.498Z"}})]),r("div",{staticClass:"red-dot",class:{"d-none":!t.isNotification}})]),t._v(" 公開聊天室 ")])]),r("router-link",{staticClass:"route-link",attrs:{to:"/user/private/message"}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},["user-private-message"===t.currentPathName?r("svg",{attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"#FF6600",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9.55 9.082C9.823 9.264 10.177 9.264 10.45 9.082L20 2.716V2.5C20 1.26 18.99 0.25 17.75 0.25H2.25C1.01 0.25 0 1.26 0 2.5V2.697L9.55 9.082Z",fill:"#FF6600"}}),r("path",{attrs:{d:"M11.26 10.295C10.877 10.55 10.44 10.677 10 10.677C9.56 10.677 9.123 10.55 8.74 10.294L0 4.45203V16.122C0 17.362 1.01 18.372 2.25 18.372H17.75C18.99 18.372 20 17.362 20 16.122V4.47003L11.26 10.293V10.295Z"}})]):r("svg",{attrs:{width:"20",height:"18",viewBox:"0 0 20 18",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M17.25 0H2.75C1.233 0 0 1.234 0 2.752V15.247C0 16.765 1.233 18 2.75 18H17.25C18.767 18 20 16.765 20 15.247V2.752C20 1.234 18.767 0 17.25 0ZM2.75 1.5H17.25C17.94 1.5 18.5 2.06 18.5 2.75V3.464L10.45 8.831C10.177 9.011 9.824 9.013 9.55 8.829L1.5 3.464V2.75C1.5 2.06 2.06 1.5 2.75 1.5ZM17.25 16.498H2.75C2.06 16.498 1.5 15.938 1.5 15.248V5.222L8.74 10.052C9.123 10.308 9.562 10.436 10 10.436C10.44 10.436 10.877 10.308 11.26 10.053L18.5 5.223V15.245C18.5 15.935 17.94 16.495 17.25 16.495V16.498Z"}})]),r("div",{staticClass:"red-dot",class:{"d-none":!t.isNotification}})]),t._v(" 私人訊息 ")])]),r("router-link",{staticClass:"route-link",class:{active:t.isCurrentUserPage},attrs:{to:{name:"user-all-tweets",params:{user_id:t.currentUser.id}}}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},[r("svg",{class:{activeSvg:t.isCurrentUserPage},attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M12 11.8158C13.355 11.8158 14.872 11.6658 15.84 10.5598C16.654 9.62976 16.918 8.19176 16.646 6.16776C16.266 3.34276 14.529 1.65576 12 1.65576C9.47103 1.65576 7.73403 3.34276 7.35403 6.16976C7.08203 8.19176 7.34603 9.62976 8.16003 10.5598C9.12803 11.6668 10.645 11.8158 12 11.8158ZM8.84003 6.36776C9.00203 5.16776 9.62703 3.15576 12 3.15576C14.373 3.15576 14.998 5.16876 15.16 6.36776C15.367 7.91776 15.217 8.99476 14.71 9.57276C14.255 10.0928 13.444 10.3158 12 10.3158C10.556 10.3158 9.74503 10.0928 9.29003 9.57276C8.78303 8.99476 8.63303 7.91676 8.84003 6.36776ZM20.28 19.2358C19.403 15.7098 15.998 13.2458 12 13.2458C8.00203 13.2458 4.59703 15.7098 3.72003 19.2358C3.54803 19.9278 3.69203 20.6358 4.11503 21.1758C4.52303 21.6958 5.15503 21.9958 5.84803 21.9958H18.152C18.845 21.9958 19.477 21.6958 19.885 21.1758C20.309 20.6358 20.452 19.9288 20.279 19.2358H20.28ZM18.704 20.2518C18.578 20.4118 18.388 20.4978 18.152 20.4978H5.84803C5.61303 20.4978 5.42203 20.4128 5.29603 20.2518C5.15903 20.0778 5.11603 19.8398 5.17603 19.5978C5.88603 16.7428 8.69303 14.7478 12 14.7478C15.307 14.7478 18.114 16.7418 18.824 19.5978C18.884 19.8398 18.841 20.0778 18.704 20.2518Z"}})])]),t._v(" 個人資料 ")])]),r("router-link",{staticClass:"route-link",attrs:{to:"/user/setting"}},[r("div",{staticClass:"link-item"},[r("div",{staticClass:"ps-re"},[r("svg",{class:{activeSvg:"user-setting"===t.currentPathName},attrs:{width:"22",height:"22",viewBox:"0 0 22 22",fill:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M11 7.20996C8.90996 7.20996 7.20996 8.90996 7.20996 11C7.20996 13.09 8.90996 14.79 11 14.79C13.09 14.79 14.79 13.09 14.79 11C14.79 8.90996 13.09 7.20996 11 7.20996ZM11 13.29C9.73796 13.29 8.70996 12.264 8.70996 11C8.70996 9.73596 9.73996 8.70996 11 8.70996C12.26 8.70996 13.29 9.73596 13.29 11C13.29 12.264 12.262 13.29 11 13.29Z"}}),r("path",{attrs:{d:"M11.36 21.375H10.638C9.45505 21.375 8.48405 20.487 8.37605 19.311L8.36205 19.164C8.33705 18.877 8.15505 18.631 7.89005 18.52C7.60405 18.4 7.30805 18.455 7.09205 18.635L6.97605 18.732C6.10805 19.457 4.72305 19.395 3.91605 18.592L3.40605 18.082C2.57005 17.242 2.51005 15.928 3.26605 15.022L3.36405 14.904C3.55005 14.682 3.59405 14.381 3.48605 14.117C3.37605 13.845 3.12805 13.663 2.84005 13.637L2.69005 13.623C1.51005 13.516 0.623047 12.543 0.623047 11.361V10.639C0.623047 9.456 1.51105 8.485 2.68705 8.377L2.84305 8.363C3.12805 8.338 3.37305 8.156 3.48505 7.89C3.59505 7.62 3.55005 7.317 3.36505 7.095L3.27105 6.979C2.51405 6.071 2.57305 4.756 3.40805 3.919L3.92005 3.407C4.72405 2.603 6.10805 2.542 6.98005 3.267L7.09605 3.365C7.31405 3.549 7.62405 3.595 7.88605 3.487C8.15605 3.375 8.33805 3.129 8.36305 2.844L8.37705 2.691C8.48405 1.511 9.45705 0.625 10.639 0.625H11.361C12.544 0.625 13.515 1.513 13.623 2.689L13.637 2.845C13.662 3.13 13.843 3.375 14.109 3.485C14.386 3.602 14.689 3.547 14.903 3.368L15.023 3.266C15.89 2.543 17.277 2.604 18.083 3.406L18.593 3.918C19.429 4.756 19.489 6.071 18.733 6.978L18.633 7.096C18.445 7.316 18.399 7.618 18.51 7.884C18.622 8.154 18.87 8.334 19.156 8.362L19.308 8.376C20.488 8.483 21.375 9.456 21.375 10.638V11.361C21.375 12.544 20.487 13.515 19.311 13.623L19.156 13.637C18.872 13.661 18.626 13.842 18.516 14.107C18.403 14.379 18.449 14.681 18.633 14.902L18.733 15.022C19.489 15.927 19.429 17.242 18.593 18.082L18.083 18.592C17.276 19.396 15.893 19.456 15.023 18.732L14.908 18.636C14.691 18.453 14.378 18.406 14.118 18.514C13.845 18.628 13.663 18.874 13.638 19.16L13.624 19.31C13.517 20.483 12.544 21.37 11.362 21.37L11.36 21.375ZM7.58705 16.955C7.88705 16.955 8.18005 17.015 8.45705 17.13C9.24705 17.458 9.78105 18.184 9.85705 19.026L9.87105 19.173C9.90805 19.573 10.238 19.873 10.641 19.873H11.363C11.763 19.873 12.093 19.573 12.131 19.173L12.145 19.025C12.221 18.183 12.755 17.458 13.537 17.133C14.33 16.803 15.233 16.951 15.87 17.483L15.983 17.577C16.161 17.725 16.349 17.757 16.476 17.757C16.682 17.757 16.876 17.677 17.022 17.53L17.532 17.02C17.816 16.736 17.837 16.29 17.58 15.982L17.48 15.862C16.938 15.212 16.803 14.322 17.128 13.539C17.454 12.749 18.18 12.219 19.022 12.142L19.177 12.128C19.574 12.091 19.877 11.761 19.877 11.358V10.636C19.877 10.236 19.574 9.906 19.175 9.868L19.023 9.854C18.177 9.776 17.453 9.244 17.128 8.461C16.802 7.673 16.938 6.783 17.481 6.134L17.581 6.016C17.838 5.706 17.817 5.26 17.533 4.976L17.023 4.466C16.877 4.319 16.683 4.239 16.477 4.239C16.35 4.239 16.162 4.271 15.985 4.419L15.865 4.519C15.231 5.047 14.315 5.189 13.543 4.873C12.755 4.546 12.223 3.821 12.146 2.977L12.132 2.822C12.097 2.425 11.767 2.122 11.365 2.122H10.642C10.242 2.122 9.91205 2.425 9.87405 2.824L9.86005 2.976C9.78405 3.819 9.25205 4.544 8.47005 4.869C7.68305 5.195 6.77705 5.052 6.14005 4.519L6.02205 4.423C5.84205 4.273 5.65405 4.243 5.52705 4.243C5.32105 4.243 5.12705 4.323 4.98105 4.469L4.46905 4.979C4.18705 5.263 4.16605 5.709 4.42305 6.017L4.52305 6.135C5.06305 6.788 5.20005 7.679 4.87505 8.46C4.54805 9.248 3.82305 9.78 2.98005 9.857L2.82405 9.871C2.42705 9.908 2.12405 10.238 2.12405 10.641V11.363C2.12405 11.763 2.42705 12.093 2.82605 12.131L2.97605 12.145C3.82405 12.223 4.54905 12.757 4.87305 13.541C5.19805 14.327 5.06305 15.216 4.52005 15.866L4.42405 15.981C4.16405 16.291 4.18605 16.737 4.47005 17.021L4.98005 17.531C5.12605 17.678 5.32005 17.758 5.52605 17.758C5.65305 17.758 5.84105 17.728 6.01805 17.578L6.13405 17.482C6.54005 17.146 7.05705 16.958 7.58705 16.958V16.955Z"}})])]),t._v(" 設定 ")])])],1),r("button",{staticClass:"btn btn-orange",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showModal.apply(null,arguments)}}},[t._v(" 推文 ")])]),r("div",{staticClass:"nav-footer"},[r("div",{staticClass:"nav-footer-btn pointer",on:{click:t.logout}},[r("svg",{attrs:{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",stroke:"black",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9 13L5 9M5 9L9 5M5 9H19M14 13V14C14 14.7956 13.6839 15.5587 13.1213 16.1213C12.5587 16.6839 11.7956 17 11 17H4C3.20435 17 2.44129 16.6839 1.87868 16.1213C1.31607 15.5587 1 14.7956 1 14V4C1 3.20435 1.31607 2.44129 1.87868 1.87868C2.44129 1.31607 3.20435 1 4 1H11C11.7956 1 12.5587 1.31607 13.1213 1.87868C13.6839 2.44129 14 3.20435 14 4V5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),r("span",[t._v("登出")])])])])])}),V=[],j=s("2f62"),A={props:{isCurrentUserPage:{type:Boolean}},computed:Object(N["a"])({},Object(j["b"])(["currentUser","isAdmin","currentPathName"])),data:function(){return{isNotification:!1}},methods:{showModal:function(){this.$emit("after-show-modal")},logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/user/login")}},watch:{isCurrentUserPage:function(t){this.isCurrentUserPage=t}}},T=A,H=(s("2c09"),Object(c["a"])(T,O,V,!1,null,"33b6f00c",null)),E=H.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[t.backArrowVisibility?s("div",{staticClass:"header-btn"},[s("svg",{attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"black",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$router.back()}}},[s("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])]):t._e(),s("div",{staticClass:"header-title"},[(t.isPublicChat,s("div",{staticClass:"header-title-page"},[t._v(t._s(t.title))])),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isUser,expression:"isUser"}],staticClass:"header-title-tweet"},[t._v(" "+t._s(t.viewUser.tweetCount)+" 推文 ")])])])},S=[],R={data:function(){return{isUser:!1,backArrowVisibility:!1,isPublicChat:!1,onlineUsers:0}},computed:Object(N["a"])(Object(N["a"])({},Object(j["b"])(["currentPathName","viewUser"])),{},{title:function(){return this.handlePathName()}}),methods:{handlePathName:function(){switch(this.currentPathName){case"admin-tweets":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"推文清單";case"admin-users":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"使用者列表";case"user-setting":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"帳戶設定";case"user-home":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"首頁";case"user-tweet":return this.isUser=!1,this.backArrowVisibility=!0,this.isPublicChat=!1,"推文";case"user-notification":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"通知";case"user-public-chat":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!0,"上線使用者";case"user-private-message":return this.isUser=!1,this.backArrowVisibility=!1,this.isPublicChat=!1,"訊息";default:case"user-all-tweets":case"user-all-replies":case"user-all-like":case"user-followers":case"user-followings":return this.isUser=!0,this.backArrowVisibility=!0,this.isPublicChat=!1,this.viewUser.name}}}},I=R,Z=(s("90d4"),Object(c["a"])(I,F,S,!1,null,"30ee0a03",null)),$=Z.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popular-panel"},[s("div",{staticClass:"popular-wrapper"},[s("div",{staticClass:"popular-heading"},[t._v("Popular")]),s("div",{staticClass:"popular-users"},t._l(t.users,(function(e){return s("div",{key:e.id,staticClass:"popular-user"},[s("div",{staticClass:"popular-user-avatar"},[s("img",{attrs:{src:e.avatar,alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toUserProfilePage(e.id)}}})]),s("div",{staticClass:"popular-user-details"},[s("span",{staticClass:"name",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toUserProfilePage(e.id)}}},[t._v(t._s(e.name))]),s("span",{staticClass:"account",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toUserProfilePage(e.id)}}},[t._v(t._s(e.account))])]),s("div",{staticClass:"popular-user-follow-button"},[e.isFollowing?s("button",{staticClass:"popular-user-btn btn btn-orange btn-following",attrs:{disabled:e.isProcessing||e.id===t.currentUser.id},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"popular-user-btn btn btn-white btn-follow",attrs:{disabled:e.isProcessing||e.id===t.currentUser.id},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])])])})),0)])])},D=[],q=(s("d81d"),s("7db0"),s("4cce")),K={props:{needUpdatePopularUser:{type:Boolean}},data:function(){return{users:[]}},computed:Object(N["a"])({},Object(j["b"])(["currentUser"])),methods:{fetchUsers:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q["a"].getTopUsers();case 3:if(s=e.sent,r=s.data,"OK"===s.statusText){e.next=7;break}throw new Error(s.message);case 7:t.users=r.map((function(t){return Object(N["a"])(Object(N["a"])({},t),{},{isProcessing:!1})})),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.ToastError({title:"無法取得人氣用戶資料，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},addFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.users.find((function(e){return e.id===t})),r.isProcessing=!0,s.prev=2,e.isProcessing=!0,s.next=6,q["a"].addFollowing(t);case 6:if(a=s.sent,"OK"===a.statusText){s.next=9;break}throw new Error(a.message);case 9:r.isFollowing=!0,r.isProcessing=!1,s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](2),e.ToastError({title:"無法追隨用戶，請稍後再試"}),r.isProcessing=!1;case 17:case"end":return s.stop()}}),s,null,[[2,13]])})))()},deleteFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.users.find((function(e){return e.id===t})),r.isProcessing=!0,s.prev=2,s.next=5,q["a"].deleteFollowing(t);case 5:if(a=s.sent,"OK"===a.statusText){s.next=8;break}throw new Error(a.message);case 8:r.isFollowing=!1,r.isProcessing=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](2),e.ToastError({title:"無法取消追隨用戶，請稍後再試"}),r.isProcessing=!1;case 16:case"end":return s.stop()}}),s,null,[[2,12]])})))()},toUserProfilePage:function(t){this.$router.push({name:"user-all-tweets",params:{user_id:t}})}},created:function(){this.fetchUsers()},watch:{needUpdatePopularUser:function(){this.fetchUsers()}},mixins:[v["a"]]},Y=K,z=(s("4057"),Object(c["a"])(Y,B,D,!1,null,"65f20242",null)),J=z.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chat-room-container"},[r("div",{staticClass:"chat-room-header"},[r("div",{staticClass:"header-title-page"},[t._v(t._s(t.title))]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isPrivateMessage,expression:"isPrivateMessage"}],staticClass:"header-title-tweet"},[t._v(" "+t._s(t.user.account)+" ")])]),r("div",{staticClass:"chat-room-content"},t._l(t.messageList,(function(e){return r("div",{key:e.id},[r("div",{staticClass:"message"},[e.UserId!==t.currentUser.id?r("div",{staticClass:"message-container"},[r("div",{staticClass:"message-avatar",style:{backgroundImage:"url("+e.User.avatar+")"}}),r("div",{staticClass:"message-content-wrapper"},[r("div",{staticClass:"message"},[r("p",[t._v(" "+t._s(e.content)+" ")])]),r("span",{staticClass:"time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])])]):r("div",{staticClass:"message-container message-container-myself"},[r("div",{staticClass:"message-content-wrapper"},[r("div",{staticClass:"message"},[r("p",[t._v(" "+t._s(e.content)+" ")])]),r("span",{staticClass:"time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])])])])])})),0),r("div",{staticClass:"chat-room-footer"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"footer-input",attrs:{type:"text",placeholder:"輸入訊息..."},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),r("div",{staticClass:"footer-btn",staticStyle:{height:"20px",width:"20px"},on:{click:t.sendMessage}},[r("img",{attrs:{src:s("353f"),alt:"",srcset:""}})])])])},Q=[],W={mixins:[v["c"]],props:{historyMessage:{type:Array},newMessage:{type:Object}},data:function(){return{user:{name:"Apple",account:"apple"},title:"公開聊天室",message:"",messageList:[]}},computed:Object(N["a"])({},Object(j["b"])(["currentUser"])),methods:{fetehMessageList:function(){this.messageList=this.historyMessage},sendMessage:function(){this.$emit("submit-message",this.message),this.message=""}},watch:{historyMessage:function(){this.fetehMessageList()},newMessage:function(){this.messageList.push(this.newMessage)}},created:function(){this.fetehMessageList()}},X=W,tt=(s("98c5"),Object(c["a"])(X,G,Q,!1,null,"df505bc6",null)),et=tt.exports,st=s("4287"),rt={components:{Navbar:E,Header:$,PopularUsers:J,TweetModal:st["a"],ChatRoom:et},data:function(){return{modalVisibility:!1,isCurrentUserPage:!1,needUpdatePopularUser:!1,historyMessage:[],newMessage:{},messageToSubmit:""}},computed:Object(N["a"])({},Object(j["b"])(["isAdmin","currentUser","currentPathName"])),methods:{afterShowModal:function(){this.modalVisibility=!0},afterCloseModal:function(){this.modalVisibility=!1},afterFollowChange:function(){this.needUpdatePopularUser=!this.needUpdatePopularUser},getHistoryMessage:function(t){this.historyMessage=t},getNewMessage:function(t){this.newMessage=t},afterSubmitMessage:function(t){this.messageToSubmit=t},beforeRouteUpdate:function(t,e,s){this.isCurrentUserPage=Number(t.params.user_id)===this.currentUser.id,s()}}},at=rt,nt=(s("e050"),Object(c["a"])(at,U,M,!1,null,"51f50780",null)),it=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("UserProfile",{attrs:{"user-id":t.userId},on:{"after-follow-change":t.afterFollowChange}}),s("NavTabs"),s("router-view")],1)},ct=[],ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-profile-container"},[s("div",{staticClass:"user-profile-cover bg-empty",style:{backgroundImage:"url("+t.user.cover+")"}}),s("div",{staticClass:"user-profile-avatar bg-empty",style:{backgroundImage:"url("+t.user.avatar+")"}}),s("div",{staticClass:"user-profile-info-container"},[s("div",{staticClass:"user-name"},[s("p",[t._v(t._s(t.user.name))])]),s("div",{staticClass:"user-account"},[s("span",{staticClass:"account"},[t._v(t._s(t.user.account))])]),s("div",{staticClass:"user-introduction"},[s("p",[t._v(t._s(t.user.introduction))])]),s("div",{staticClass:"user-follow"},[s("div",{staticClass:"user-follow-followings"},[s("router-link",{attrs:{to:{name:"user-followings",params:{user_id:t.user_id}}}},[s("span",[t._v(t._s(t.user.followingCount)+" 個")]),t._v("跟隨中")])],1),s("div",{staticClass:"user-follow-followers"},[s("router-link",{attrs:{to:{name:"user-followers",params:{user_id:t.user_id}}}},[s("span",[t._v(t._s(t.user.followerCount)+" 位")]),t._v("跟隨者")])],1)]),t.currentUser.id===t.user_id?s("div",{staticClass:"user-edit btn-ps"},[s("button",{staticClass:"user-edit btn btn-white profile-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showEditModal.apply(null,arguments)}}},[t._v(" 編輯個人資料 ")])]):t._e(),t.currentUser.id!==t.user_id?s("div",{staticClass:"user-is-follow btn-ps"},[t.user.isFollowing?s("button",{staticClass:"following btn btn-orange profile-btn",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(t.user_id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"follow btn btn-white profile-btn",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.user_id)}}},[t._v(" 跟隨 ")])]):t._e()]),t.modalVisibility?s("UserEditModal",{attrs:{"init-user-id":t.user_id,"init-user-cover":t.user.cover,"init-user-avatar":t.user.avatar,"init-user-name":t.user.name,"init-user-introduction":t.user.introduction},on:{"after-close-modal":t.afterCloseModal,"after-edit-success":t.afterEditSuccess}}):t._e()],1)},lt=[],dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submitEdit.apply(null,arguments)}}},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close-icon modal-header-close",attrs:{type:"button"},on:{click:t.handleCloseModal}},[s("svg",{staticClass:"close-icon",attrs:{width:"15",height:"15",viewBox:"0 0 16 16",fill:"#FF6600",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z"}})])]),s("div",{staticClass:"modal-header-title"},[s("span",{staticClass:"header-title"},[t._v("編輯個人資料")])]),s("div",{staticClass:"modal-header-submit"},[s("button",{staticClass:"submit-edit btn-orange",class:{"d-none":t.isProcessing},attrs:{type:"submit"}},[t._v(" 儲存 ")]),s("button",{staticClass:"submit-wait btn-orange",class:{"d-none":!t.isProcessing},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v(" 儲存中... ")])])]),s("div",{staticClass:"profile-container"},[s("div",{staticClass:"user-cover",style:{backgroundImage:"url("+t.userCover+")"}},[s("div",{staticClass:"user-cover-icon-container"},[s("label",{attrs:{for:"cover"}},[s("div",{staticClass:"user-cover-icon"},[s("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"white",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M17.708 20H2.292C1.028 20 0 18.972 0 17.708V5.375C0 4.11 1.028 3.083 2.292 3.083H4.438C5.633 1.17 7.722 0 10 0C12.277 0 14.367 1.17 15.562 3.083H17.708C18.972 3.083 20 4.11 20 5.375V17.708C20 18.972 18.972 20 17.708 20ZM2.292 4.583C1.855 4.583 1.5 4.938 1.5 5.375V17.708C1.5 18.145 1.855 18.5 2.292 18.5H17.708C18.145 18.5 18.5 18.145 18.5 17.708V5.375C18.5 4.938 18.145 4.583 17.708 4.583H15.258C14.941 4.633 14.626 4.488 14.476 4.201C13.596 2.536 11.882 1.501 10 1.501C8.117 1.501 6.402 2.536 5.524 4.203C5.364 4.505 5.022 4.663 4.691 4.583H2.293H2.292Z"}}),s("path",{attrs:{d:"M9.99989 6.16699C7.31989 6.16699 5.13989 8.34699 5.13989 11.027C5.13989 13.707 7.31989 15.887 9.99989 15.887C12.6799 15.887 14.8599 13.707 14.8599 11.027C14.8599 8.34699 12.6799 6.16699 9.99989 6.16699ZM11.9999 11.75H10.7499V13C10.7499 13.414 10.4139 13.75 9.99989 13.75C9.58589 13.75 9.24989 13.414 9.24989 13V11.75H7.99989C7.58589 11.75 7.24989 11.414 7.24989 11C7.24989 10.586 7.58589 10.25 7.99989 10.25H9.24989V8.99999C9.24989 8.58599 9.58589 8.24999 9.99989 8.24999C10.4139 8.24999 10.7499 8.58599 10.7499 8.99999V10.25H11.9999C12.4139 10.25 12.7499 10.586 12.7499 11C12.7499 11.414 12.4139 11.75 11.9999 11.75Z"}})])]),s("input",{staticClass:"control-file d-none",attrs:{id:"cover",name:"cover",accept:"image/*",type:"file"},on:{change:t.handleCoverChange}})]),s("div",{staticClass:"user-cover-icon user-cover-icon-close"},[s("svg",{staticClass:"close-icon",attrs:{width:"15",height:"15",viewBox:"0 0 16 16",fill:"white",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z"}})])])])]),s("div",{staticClass:"user-avatar"},[s("div",{staticClass:"user-avatar-icon-container"},[s("div",{staticClass:"image-container"},[s("div",{staticClass:"image-container-bg",style:{backgroundImage:"url("+t.userAvatar+")"}})]),s("label",{attrs:{for:"avatar"}},[s("div",{staticClass:"user-cover-icon"},[s("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"white",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M17.708 20H2.292C1.028 20 0 18.972 0 17.708V5.375C0 4.11 1.028 3.083 2.292 3.083H4.438C5.633 1.17 7.722 0 10 0C12.277 0 14.367 1.17 15.562 3.083H17.708C18.972 3.083 20 4.11 20 5.375V17.708C20 18.972 18.972 20 17.708 20ZM2.292 4.583C1.855 4.583 1.5 4.938 1.5 5.375V17.708C1.5 18.145 1.855 18.5 2.292 18.5H17.708C18.145 18.5 18.5 18.145 18.5 17.708V5.375C18.5 4.938 18.145 4.583 17.708 4.583H15.258C14.941 4.633 14.626 4.488 14.476 4.201C13.596 2.536 11.882 1.501 10 1.501C8.117 1.501 6.402 2.536 5.524 4.203C5.364 4.505 5.022 4.663 4.691 4.583H2.293H2.292Z"}}),s("path",{attrs:{d:"M9.99989 6.16699C7.31989 6.16699 5.13989 8.34699 5.13989 11.027C5.13989 13.707 7.31989 15.887 9.99989 15.887C12.6799 15.887 14.8599 13.707 14.8599 11.027C14.8599 8.34699 12.6799 6.16699 9.99989 6.16699ZM11.9999 11.75H10.7499V13C10.7499 13.414 10.4139 13.75 9.99989 13.75C9.58589 13.75 9.24989 13.414 9.24989 13V11.75H7.99989C7.58589 11.75 7.24989 11.414 7.24989 11C7.24989 10.586 7.58589 10.25 7.99989 10.25H9.24989V8.99999C9.24989 8.58599 9.58589 8.24999 9.99989 8.24999C10.4139 8.24999 10.7499 8.58599 10.7499 8.99999V10.25H11.9999C12.4139 10.25 12.7499 10.586 12.7499 11C12.7499 11.414 12.4139 11.75 11.9999 11.75Z"}})])]),s("input",{staticClass:"control-file d-none",attrs:{id:"avatar",name:"avatar",accept:"image/*",type:"file"},on:{change:t.handleAvatarChange}})])])]),s("div",{staticClass:"profile-content"},[s("div",{staticClass:"user-name ps-label-title"},[s("label",{staticClass:"user-name-label",attrs:{for:"name"}},[t._v(" 名稱 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"user-name input-gp input-field",attrs:{id:"name",type:"text",name:"name"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),s("div",{staticClass:"user-name-input-border input-border",class:{error:0===t.userName.length||t.userName.length>50}}),0===t.userName.length?s("div",{staticClass:"user-name-input-error-info",staticStyle:{color:"#fc5a5a"}},[t._v("不可有空欄位 ")]):t._e(),t.userName.length>50?s("div",{staticClass:"user-name-input-error-info",staticStyle:{color:"#fc5a5a"}},[t._v("名稱上限 50 字 ")]):t._e()]),s("div",{staticClass:"user-name-length input-length",class:{error:0===t.userName.length||t.userName.length>50}},[t._v(" "+t._s(t.userName.length)+"/50 ")]),s("div",{staticClass:"user-introduction ps-label-title"},[s("label",{staticClass:"user-name-label",attrs:{for:"user-introduction"}},[t._v(" 自我介紹 ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userIntroduction,expression:"userIntroduction"}],staticClass:"user-introduction input-gp input-field",attrs:{name:"introduction",id:"user-introduction",cols:"40",rows:"8"},domProps:{value:t.userIntroduction},on:{input:function(e){e.target.composing||(t.userIntroduction=e.target.value)}}}),s("div",{staticClass:"user-introduction-input-border input-border",class:{error:t.userIntroduction.length>160}}),t.userIntroduction.length>160?s("div",{staticClass:"user-introduction-input-error-info",staticStyle:{color:"#fc5a5a"}},[t._v("自我介紹上限 160 字 ")]):t._e()]),s("div",{staticClass:"user-introduction-length input-length",class:{error:t.userIntroduction.length>160}},[t._v(" "+t._s(t.userIntroduction.length)+"/160 ")])])])])])])])])])],1)},pt=[],ht=(s("2b3d"),s("9861"),{mixins:[v["a"]],props:{initUserId:{type:String,required:!0},initUserCover:{type:String},initUserAvatar:{type:String},initUserName:{type:String,required:!0},initUserIntroduction:{type:String}},created:function(){this.fetchUserProfile()},data:function(){return{userId:0,userCover:"",userAvatar:"",userName:"",userIntroduction:"",isProcessing:!1}},computed:Object(N["a"])({},Object(j["b"])(["currentUser"])),methods:{fetchUserProfile:function(){this.userId=Number(this.initUserId),this.userCover=this.initUserCover,this.userAvatar=this.initUserAvatar,this.userName=this.initUserName,this.userIntroduction=this.initUserIntroduction},handleCloseModal:function(){this.$emit("after-close-modal")},handleEditSuccess:function(){this.$emit("after-edit-success"),this.handleCloseModal()},submitEdit:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(e.userName.length>50||0===e.userName.length)){s.next=4;break}return s.abrupt("return",console.log("name too long or empty."));case 4:if(!(e.userIntroduction.length>160)){s.next=6;break}return s.abrupt("return",console.log("intro too long."));case 6:return r=t.target,a=new FormData(r),s.prev=8,e.isProcessing=!0,s.next=12,q["a"].updateUserProfile({user_id:e.userId,formData:a});case 12:if(n=s.sent,i=n.data,"success"===i.status){s.next=16;break}throw new Error(i.status);case 16:e.ToastSuccess({title:"已更新資料"}),e.handleEditSuccess(),s.next=24;break;case 20:s.prev=20,s.t0=s["catch"](8),e.ToastError({title:"無法更新資料，請稍後再試"}),e.isProcessing=!1;case 24:case"end":return s.stop()}}),s,null,[[8,20]])})))()},handleCoverChange:function(t){var e=t.target.files;if(0===e.length)this.userCover="";else{var s=window.URL.createObjectURL(e[0]);this.userCover=s}},handleAvatarChange:function(t){var e=t.target.files;if(0===e.length)this.userCover="";else{var s=window.URL.createObjectURL(e[0]);this.userAvatar=s}}}}),mt=ht,ft=(s("306d"),Object(c["a"])(mt,dt,pt,!1,null,"509b83a5",null)),Ct=ft.exports,vt={mixins:[v["a"]],components:{UserEditModal:Ct},props:{userId:{type:String,required:!0}},computed:Object(N["a"])({},Object(j["b"])(["currentUser"])),created:function(){this.user_id=Number(this.userId),this.fetchUserProfile(this.userId)},data:function(){return{user_id:0,user:{account:"",name:"",avatar:"",cover:"",introduction:"",followingCount:0,followerCount:0,isFollowing:!1},modalVisibility:!1,isProcessing:!1}},methods:{fetchUserProfile:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,q["a"].getUser(t);case 3:if(r=s.sent,a=r.data,"OK"===r.statusText){s.next=7;break}throw new Error("status: "+r.status);case 7:e.user={account:a.account,name:a.name,avatar:a.avatar?a.avatar:"",cover:a.cover?a.cover:"",introduction:a.introduction?a.introduction:"",followingCount:a.followingCount,followerCount:a.followerCount,isFollowing:a.isFollowing},s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),e.ToastError({title:"無法取得用戶資料，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},addFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isProcessing=!0,s.prev=1,s.next=4,q["a"].addFollowing(t);case 4:if(r=s.sent,"OK"===r.statusText){s.next=7;break}throw new Error(r.message);case 7:e.user.isFollowing=!0,e.user.followingCount+=1,e.isProcessing=!1,e.$emit("after-follow-change"),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](1),e.ToastError({title:"無法追隨用戶，請稍後再試"}),e.isProcessing=!1;case 17:case"end":return s.stop()}}),s,null,[[1,13]])})))()},deleteFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isProcessing=!0,s.prev=1,s.next=4,q["a"].deleteFollowing(t);case 4:if(r=s.sent,"OK"===r.statusText){s.next=7;break}throw new Error(r.message);case 7:e.user.isFollowing=!1,e.user.followingCount-=1,e.isProcessing=!1,e.$emit("after-follow-change"),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](1),e.ToastError({title:"無法取消追隨用戶，請稍後再試"}),e.isProcessing=!1;case 17:case"end":return s.stop()}}),s,null,[[1,13]])})))()},showEditModal:function(){this.modalVisibility=!0},afterCloseModal:function(){this.modalVisibility=!1},afterEditSuccess:function(){this.fetchUserProfile(Number(this.userId)),this.$store.dispatch("fetchCurrentUser")}},watch:{userId:function(t){this.fetchUserProfile(Number(t)),this.user_id=Number(t)}}},gt=vt,wt=(s("71f1"),Object(c["a"])(gt,ut,lt,!1,null,"0a163d93",null)),bt=wt.exports,kt=s("8bb1"),_t={components:{UserProfile:bt,NavTabs:kt["a"]},data:function(){return{userId:this.$route.params.user_id,tweetsData:[]}},methods:{afterFollowChange:function(){this.$emit("after-follow-change")}},beforeRouteUpdate:function(t,e,s){this.userId=t.params.user_id,s()}},Pt=_t,xt=Object(c["a"])(Pt,ot,ct,!1,null,null,null),yt=xt.exports;r["a"].use(j["a"]);var Lt=new j["a"].Store({state:{currentUser:{id:2,account:"user1",name:"user1",email:"user1@example.com",introduction:"Nemo qui repellat ex.\nImpedit rerum nobis modi alias voluptas sunt sed eos.\nMollitia iste modi sunt eos aspernatur vel hic placeat natus.\nAccusamus sunt officiis.\nIpsum aut eum dignissimos delectus vero ut quasi accusamus.",avatar:"https://loremflickr.com/320/240/monster/?random=74.11942935327585",cover:"https://loremflickr.com/320/240/monster/?random=74.51846285116876",isAdmin:!1,role:"user"},viewUser:{name:"view user",tweetCount:1},token:"",isAdmin:!0,isAuthenticated:!1,currentPathName:""},mutations:{setCurrentUser:function(t,e){t.currentUser=Object(N["a"])(Object(N["a"])({},t.currentUser),e),t.token=localStorage.getItem("token"),t.isAdmin=e.isAdmin,t.isAuthenticated=!0},setViewUser:function(t,e){t.viewUser.name=e.name},updatePathName:function(t,e){t.currentPathName=e},revokeAuthentication:function(t){t.currentUser={},t.isAuthenticated=!1,t.token="",localStorage.removeItem("token")}},actions:{fetchCurrentUser:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,r,a,n,i,o,c,u,l,d,p,h,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,q["a"].getCurrentUser();case 4:return r=e.sent,a=r.data,n=a.user,i=n.id,o=n.name,c=n.account,u=n.avatar,l=n.cover,d=n.email,p=n.introduction,h=n.isAdmin,m=n.role,s("setCurrentUser",{id:i,name:o,account:c,avatar:u,cover:l,email:d,introduction:p,isAdmin:h,role:m}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e["catch"](1),console.log(e.t0),s("revokeAuthentication"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},fetehViewUser:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,s.prev=1,s.next=4,q["a"].getUser(e);case 4:if(a=s.sent,n=a.data,"OK"===a.statusText){s.next=8;break}throw new Error("status: "+a.status);case 8:r("setViewUser",n),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](1),console.log(s.t0);case 14:case"end":return s.stop()}}),s,null,[[1,11]])})))()}},modules:{}});r["a"].use(p["a"]);var Ut=[{path:"/",name:"root",redirect:"/user/home"},{path:"/user",redirect:"/user/home"},{path:"/user/login",name:"user-login",component:k},{path:"/user/regist",name:"user-regist",component:function(){return s.e("chunk-641473fe").then(s.bind(null,"4eed"))}},{path:"/admin/login",name:"admin-login",component:function(){return s.e("chunk-2d0b2706").then(s.bind(null,"23b1"))}},{path:"/admin",redirect:"/admin/tweets"},{path:"/",component:it,children:[{path:"user/home",name:"user-home",component:function(){return s.e("chunk-98bb8382").then(s.bind(null,"99ca"))},meta:{isAdminPage:!1}},{path:"user/setting",name:"user-setting",component:function(){return s.e("chunk-2d37f08a").then(s.bind(null,"ce99"))},meta:{isAdminPage:!1}},{path:"user/notification",name:"user-notification",component:function(){return s.e("chunk-2d0c1f74").then(s.bind(null,"47fa"))},meta:{isAdminPage:!1}},{path:"user/public/chat",name:"user-public-chat",component:function(){return s.e("chunk-0ccdb775").then(s.bind(null,"c601"))},meta:{isAdminPage:!1}},{path:"user/private/message",name:"user-private-message",component:function(){return s.e("chunk-2d21e7c3").then(s.bind(null,"d683"))},meta:{isAdminPage:!1}},{path:"user/tweets/:tweet_id",name:"user-tweet",component:function(){return s.e("chunk-307ba292").then(s.bind(null,"d641"))},meta:{isAdminPage:!1}},{path:"user/:user_id/",component:yt,children:[{path:"",name:"user-id",component:function(){return s.e("chunk-545ff352").then(s.bind(null,"1f2c"))},meta:{needChangeViewUser:!0,isAdminPage:!1}},{path:"tweets",name:"user-all-tweets",component:function(){return s.e("chunk-545ff352").then(s.bind(null,"1f2c"))},meta:{needChangeViewUser:!0,isAdminPage:!1}},{path:"replies",name:"user-all-replies",component:function(){return s.e("chunk-3b43a8fb").then(s.bind(null,"aa75"))},meta:{needChangeViewUser:!0,isAdminPage:!1}},{path:"like",name:"user-all-like",component:function(){return s.e("chunk-9fa54cc4").then(s.bind(null,"6362"))},meta:{needChangeViewUser:!0,isAdminPage:!1}}]},{path:"user/:user_id/followers",name:"user-followers",component:function(){return s.e("chunk-684804da").then(s.bind(null,"369c"))},meta:{needChangeViewUser:!0,isAdminPage:!1}},{path:"user/:user_id/followings",name:"user-followings",component:function(){return s.e("chunk-212217f0").then(s.bind(null,"e85a"))},meta:{needChangeViewUser:!0,isAdminPage:!1}},{path:"user/:user_id",redirect:"/user/:user_id/tweets"},{path:"admin/tweets",name:"admin-tweets",exact:!0,component:function(){return s.e("chunk-5c52d513").then(s.bind(null,"5d87"))},meta:{isAdminPage:!0}},{path:"admin/users",name:"admin-users",component:function(){return s.e("chunk-67ddc0a9").then(s.bind(null,"a577"))},meta:{needChangeViewUser:!0,isAdminPage:!0}}]},{path:"*",name:"not-found",component:L}],Mt=new p["a"]({linkExactActiveClass:"active",routes:Ut});Mt.beforeEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,s,r){var a,n,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("token"),n=Lt.state.token,i=Lt.state.isAdmin,o=Lt.state.isAuthenticated,Lt.commit("updatePathName",e.name),c=["user-login","user-regist","admin-login"],a===n||c.includes(e.name)){t.next=10;break}return t.next=9,Lt.dispatch("fetchCurrentUser");case 9:o=t.sent;case 10:if(o||c.includes(e.name)){t.next=13;break}return r("/user/login"),t.abrupt("return");case 13:if(!o||!c.includes(e.name)){t.next=16;break}return r("/user/home"),t.abrupt("return");case 16:e.meta.needChangeViewUser&&Lt.dispatch("fetehViewUser",e.params.user_id),e.meta.isAdminPage&&!i&&r("/404"),r();case 19:case"end":return t.stop()}}),t)})));return function(e,s,r){return t.apply(this,arguments)}}());var Nt=Mt,Ot=s("6c42"),Vt=s("5132"),jt=s.n(Vt),At=(s("da96"),s("c1c3"),{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!0,draggable:!1,draggablePercent:.6,showCloseButtonOnHover:!1,closeButton:!1,icon:!1,transition:"Vue-Toastification__fade",maxToasts:20,newestOnTop:!1,toastClassName:"custom-toast",bodyClassName:["custom-class-body"]});r["a"].use(Ot["a"],At),r["a"].use(new jt.a({debug:!0,connection:"https://twitter-chatroom-2022.herokuapp.com/",vuex:{}})),r["a"].config.productionTip=!1,new r["a"]({router:Nt,store:Lt,render:function(t){return t(l)}}).$mount("#app")},5832:function(t,e,s){},"5cfd":function(t,e,s){},"5e4c":function(t,e,s){"use strict";s("1fb7")},"61b1":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"form-title"},[t._m(0),t.isAdminLogin?s("div",{staticClass:"form-title-text"},[t._v("後台登入")]):s("div",{staticClass:"form-title-text"},[t._v("登入 Alphitter")])]),s("div",{staticClass:"form-wrapper"},[s("div",{staticClass:"input-gp"},[s("label",{staticClass:"input-label"},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"input-field",attrs:{type:"text",required:""},domProps:{value:t.account},on:{click:function(e){t.errorMessage=""},input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("div",{staticClass:"input-line line",class:{error:"account"===t.errorMessage}}),s("span",{directives:[{name:"show",rawName:"v-show",value:"account"===t.errorMessage,expression:"errorMessage === 'account'"}],staticClass:"input-warning"},[t._v("不可有空欄位")])]),s("div",{staticClass:"input-gp"},[s("label",{staticClass:"input-label"},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-field",attrs:{type:"password",required:""},domProps:{value:t.password},on:{click:function(e){t.errorMessage=""},input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("div",{staticClass:"input-line line",class:{error:"password"===t.errorMessage}}),s("span",{directives:[{name:"show",rawName:"v-show",value:"password"===t.errorMessage,expression:"errorMessage === 'password'"}],staticClass:"input-warning"},[t._v("不可有空欄位")])])]),s("button",{staticClass:"btn btn-orange",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 登入 ")]),t.isAdminLogin?s("div",{staticClass:"link-group"},[s("router-link",{staticClass:"link",attrs:{to:"/user/login"}},[t._v("前台登入")])],1):s("div",{staticClass:"link-group"},[s("router-link",{staticClass:"link",attrs:{to:"/user/regist"}},[t._v("註冊 Alphitter")]),s("span",{staticClass:"link-dot"},[t._v("・")]),s("router-link",{staticClass:"link",attrs:{to:"/admin/login"}},[t._v("後台登入")])],1)])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-title-icon"},[r("img",{attrs:{src:s("d191"),alt:"",srcset:""}})])}],n=s("5530"),i=(s("498a"),s("b0c0"),s("2f62")),o={props:{initIsProcessing:{type:Boolean,required:!0},needClearPassword:{type:Boolean}},data:function(){return{account:"",password:"",isProcessing:!1,isAdminLogin:!1,errorMessage:"pending"}},computed:Object(n["a"])({},Object(i["b"])(["currentPathName"])),watch:{initIsProcessing:function(t){this.isProcessing=t},needClearPassword:function(){this.password=""}},methods:{handleSubmit:function(){return this.account.trim()?this.password.trim()?(this.errorMessage="",void this.$emit("after-form-submit",this.account,this.password)):this.errorMessage="password":this.errorMessage="account"}},created:function(){"admin-login"===this.$route.name?this.isAdminLogin=!0:"user-login"===this.$route.name&&(this.isAdminLogin=!1)}},c=o,u=(s("de6b"),s("2877")),l=Object(u["a"])(c,r,a,!1,null,"ccab97c8",null);e["a"]=l.exports},6783:function(t,e,s){"use strict";var r=s("2fa3");e["a"]={createTweet:function(t){return r["a"].post("/tweets",{description:t})},getAllTweets:function(){return r["a"].get("/tweets")},getTweet:function(t){return r["a"].get("/tweets/".concat(t))},getReplies:function(t){return r["a"].get("/tweets/".concat(t,"/replies"))},addLike:function(t){return r["a"].post("/tweets/".concat(t,"/like"),null)},deleteLike:function(t){return r["a"].post("/tweets/".concat(t,"/unlike"),null)},postReply:function(t,e){return r["a"].post("/tweets/".concat(t,"/replies"),{comment:e})}}},"67ef":function(t,e,s){},"71f1":function(t,e,s){"use strict";s("85a7")},7531:function(t,e,s){"use strict";s("ebee")},7696:function(t,e,s){"use strict";var r=s("5530"),a=s("2fa3");e["a"]={userLogin:function(t){return a["a"].post("/users/signin",t)},adminLogin:function(t){return a["a"].post("/admin/login",t)},userRegister:function(t){return a["a"].post("/users",Object(r["a"])({},t))}}},"7b18":function(t,e,s){"use strict";s("67ef")},"7d15":function(t,e,s){"use strict";s("2912")},8413:function(t,e,s){t.exports=s.p+"img/toast_success.5afe13e4.svg"},"85a7":function(t,e,s){},"8bb1":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-tab-container"},[t.isFollowPage?s("div",{staticClass:"nav-tab"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followers"}}},[s("span",{staticClass:"nav-tab"},[t._v("跟隨者")])])],1):t._e(),t.isFollowPage?s("div",{staticClass:"nav-tab"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followings"}}},[s("span",{staticClass:"nav-tab"},[t._v("正在跟隨")])])],1):t._e(),t.isFollowPage?t._e():s("div",{staticClass:"nav-tab"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-all-tweets"}}},[s("span",{staticClass:"nav-tab"},[t._v("推文")])])],1),t.isFollowPage?t._e():s("div",{staticClass:"nav-tab"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-all-replies"}}},[s("span",{staticClass:"nav-tab"},[t._v("推文與回覆")])])],1),t.isFollowPage?t._e():s("div",{staticClass:"nav-tab"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-all-like"}}},[s("span",{staticClass:"nav-tab"},[t._v("喜歡的內容")])])],1)])},a=[],n=s("5530"),i=s("2f62"),o={created:function(){this.handlePathName()},data:function(){return{isFollowPage:!0,isProfilePage:!1}},computed:Object(n["a"])({},Object(i["b"])(["currentPathName"])),methods:{handlePathName:function(){switch(this.currentPathName){case"user-followers":case"user-followings":this.isProfilePage=!1,this.isFollowPage=!0;break;case"user-id":case"user-all-tweets":case"user-all-replies":case"user-all-like":this.isFollowPage=!1,this.isProfilePage=!0;break}}},watch:{currentPathName:function(){this.handlePathName()}}},c=o,u=(s("7d15"),s("2877")),l=Object(u["a"])(c,r,a,!1,null,"16171084",null);e["a"]=l.exports},"8be7":function(t,e,s){},"90d4":function(t,e,s){"use strict";s("53c5")},"98c5":function(t,e,s){"use strict";s("8be7")},ac0d:function(t,e,s){"use strict";s.d(e,"c",(function(){return m})),s.d(e,"a",(function(){return f})),s.d(e,"b",(function(){return C}));s("a4d3"),s("e01a");var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toast__wrapper"},[r("div",{staticClass:"toast__wrapper__content"},[r("div",{staticClass:"toast__wrapper__title"},[t._v(t._s(t.title))]),"success"===t.icon?r("div",{staticClass:"toast__wrapper__description--success"},[t._v(" "+t._s(t.description)+" ")]):t._e(),"error"===t.icon?r("div",{staticClass:"toast__wrapper__description--error"},[t._v(" "+t._s(t.description)+" ")]):t._e()]),r("div",{staticClass:"toast__wrapper__icon"},["success"===t.icon?r("img",{attrs:{src:s("8413"),alt:"success_icon"}}):t._e(),"error"===t.icon?r("img",{attrs:{src:s("176f"),alt:"error_icon"}}):t._e()])])},a=[],n={name:"CustomToast",props:{icon:{type:String,require:!0},title:{type:String,default:""},description:{type:String,default:""}}},i=n,o=(s("5e4c"),s("2877")),c=Object(o["a"])(i,r,a,!1,null,"2b027c7a",null),u=c.exports,l=s("5a0c"),d=s.n(l),p=s("4208"),h=s.n(p);s("50878");d.a.extend(h.a).locale("zh-tw");var m={filters:{fromNow:function(t){var e=d()(),s=e.diff(t,"hour");return s>24?d()(t).format("M月DD日"):d()(t).fromNow(!0)},timeFormatFilter:function(t){var e=d()(t).hour()>12?"下午":"上午";return e+d()(t).format(" hh:mm・YYYY年M月DD日")}}},f={methods:{ToastSuccess:function(t){var e=t.title,s=void 0===e?"":e,r=t.description,a=void 0===r?"":r;this.$toast({component:u,props:{icon:"success",title:s,description:a}})},ToastError:function(t){var e=t.title,s=void 0===e?"":e,r=t.description,a=void 0===r?"":r;this.$toast({component:u,props:{icon:"error",title:s,description:a}})}}},C={filters:{descriptionOverflow:function(t){return t.length>50?t.substr(0,50)+" ...":t}}}},bae3:function(t,e,s){},c1c3:function(t,e,s){},d191:function(t,e,s){t.exports=s.p+"img/logo.9481b738.svg"},de6b:function(t,e,s){"use strict";s("40f0")},e01e:function(t,e,s){},e050:function(t,e,s){"use strict";s("5832")},ebee:function(t,e,s){},fcda:function(t,e,s){}});
//# sourceMappingURL=app.fa666976.js.map